# **ADS-001: Comprehensive Advertising System Specification**

## **YAJID Platform - Integrated Advertising & Business Promotion Framework**

**Document Version:** 2.0 (Consolidated)
**Date:** January 15, 2024
**Author:** YAJID Product Team
**Status:** Implementation Ready
**Currency:** MAD (Moroccan Dirhams)


---

## **1. Executive Summary**

The Yajid Advertising System provides a comprehensive framework for businesses to promote their venues, events, and services through sponsored content, targeted messaging, and data-driven campaigns. The system integrates seamlessly with the existing gamification and discovery features while maintaining user experience quality.

### **1.1 Key Components**
- **Sponsored Content Engine**: Native advertising in search and recommendations
- **Business Communication System**: Direct messaging to engaged users
- **Campaign Management Platform**: Self-service ad creation and management
- **Audience Segmentation Engine**: Advanced targeting capabilities
- **Analytics & Reporting Dashboard**: Real-time performance tracking

### **1.2 Revenue Projections**
- **Year 1**: 500,000 MAD from advertising
- **Year 2**: 2,500,000 MAD (5x growth)
- **Year 3**: 8,000,000 MAD (projected)

---

## **2. Sponsored Content Engine**

### **2.1 Content Types**

#### **2.1.1 Sponsored Venue Cards**
- **Placement**: Search results, category browsing, recommendations
- **Format**: Native cards with subtle "Sponsored" label
- **Pricing Model**: CPC (Cost Per Click) - 2-10 MAD per click
- **Targeting**: Location, interests, behavior, demographics

#### **2.1.2 Featured Event Promotions**
- **Placement**: Event discovery, home feed, push notifications
- **Format**: Hero banners, carousel cards
- **Pricing Model**: CPM (Cost Per Mille) - 50-200 MAD per 1000 impressions
- **Targeting**: Event preferences, past attendance, location

#### **2.1.3 Sponsored Stories**
- **Placement**: Social feed, discover tab
- **Format**: Full-screen immersive content
- **Pricing Model**: CPV (Cost Per View) - 0.50-2 MAD per view
- **Duration**: 24-48 hours

#### **2.1.4 Auction-Based Premium Spots**
- **Placement**: Gamification auctions for premium visibility
- **Format**: Time-limited premium placement
- **Pricing Model**: Auction bidding starting at 100 MAD
- **Duration**: 24-hour cycles

### **2.2 Display Algorithm**

```yaml
sponsored_content_algorithm:
  factors:
    - relevance_score: 40%
    - bid_amount: 30%
    - user_engagement_probability: 20%
    - content_quality_score: 10%
  
  frequency_capping:
    per_user_per_day: 5
    per_campaign_per_user: 3
    minimum_organic_ratio: 70%
  
  quality_scoring:
    - click_through_rate
    - conversion_rate
    - user_feedback
    - content_compliance
```

---

## **3. Business Communication System**

### **3.1 Targeted Messaging Channels**

#### **3.1.1 In-App Messages**
- **Smart Inbox**: Dedicated business messages section
- **Priority Delivery**: Based on user engagement score
- **Message Types**:
  - Promotional offers
  - Event invitations
  - Loyalty rewards
  - Personalized recommendations

#### **3.1.2 Push Notifications**
- **Segmented Campaigns**: Target specific user groups
- **Timing Optimization**: AI-driven send time
- **Templates**:
  - Flash sales: "50% off today only at [Venue]"
  - New arrivals: "Check out our new menu"
  - Events: "Live music tonight at 8 PM"

#### **3.1.3 WhatsApp Business Integration**
- **Automated Campaigns**: Bulk messaging capabilities
- **Rich Media**: Images, videos, catalogs
- **Two-way Communication**: Customer support
- **Compliance**: GDPR and WhatsApp Business policies

### **3.2 Message Targeting Rules**

```yaml
targeting_criteria:
  user_segments:
    - high_value_customers:
        lifetime_value: "> 1000 MAD"
        visit_frequency: "> 2/month"
    - new_users:
        account_age: "< 30 days"
        first_purchase_pending: true
    - churning_users:
        last_active: "> 14 days"
        previous_engagement: "high"
  
  behavioral_triggers:
    - viewed_venue_3_times
    - added_to_favorites
    - searched_category
    - near_venue_location
```

---

## **4. Campaign Management Platform**

### **4.1 Campaign Creation Workflow**

#### **Step 1: Campaign Objectives**
- **Brand Awareness**: Maximize reach and impressions
- **Traffic Generation**: Drive venue visits or website clicks
- **Conversions**: Bookings, orders, purchases
- **Engagement**: Social interactions, reviews, shares
- **App Installs**: New user acquisition

#### **Step 2: Audience Definition**
- **Demographics**: Age, gender, language, income
- **Location**: City, district, radius targeting
- **Interests**: Categories, cuisines, activities
- **Behaviors**: Purchase history, visit patterns
- **Custom Audiences**: Upload customer lists
- **Lookalike Audiences**: Similar to best customers

#### **Step 3: Budget & Schedule**
- **Budget Types**:
  - Daily budget: 50-10,000 MAD
  - Total budget: 500-100,000 MAD
  - Bid strategy: Manual or automatic
- **Schedule Options**:
  - Continuous
  - Date range
  - Dayparting (specific hours)
  - Event-based triggers

#### **Step 4: Creative Assets**
- **Supported Formats**:
  - Images: JPG, PNG (1080x1080, 1200x628)
  - Videos: MP4, MOV (up to 60 seconds)
  - Carousels: 2-10 images
  - AR Filters: Custom venue experiences

### **4.2 Campaign Types**

#### **4.2.1 Search Ads**
```typescript
interface SearchAdCampaign {
  id: string;
  businessId: string;
  name: string;
  keywords: string[];
  negativeKeywords: string[];
  bidStrategy: 'manual' | 'auto';
  maxCPC: number; // in MAD
  dailyBudget: number;
  geoTargeting: GeoTarget[];
  scheduling: AdSchedule;
  creatives: SearchAdCreative[];
}
```

#### **4.2.2 Display Ads**
```typescript
interface DisplayAdCampaign {
  id: string;
  businessId: string;
  placements: ('feed' | 'discover' | 'search' | 'venue_details')[];
  targeting: AudienceTargeting;
  creatives: DisplayCreative[];
  frequency: FrequencyCap;
  pacing: 'standard' | 'accelerated';
}
```

#### **4.2.3 Sponsored Events**
```typescript
interface SponsoredEventCampaign {
  id: string;
  eventId: string;
  boostType: 'visibility' | 'ticket_sales' | 'awareness';
  targetAudience: EventAudience;
  promotionChannels: ('in_app' | 'push' | 'email' | 'sms')[];
  urgencyMessaging: boolean;
}
```

---

## **5. Audience Segmentation Engine**

### **5.1 Segmentation Categories**

#### **5.1.1 Demographic Segments**
- **Age Groups**: 18-24, 25-34, 35-44, 45-54, 55+
- **Gender**: Male, Female, Other, All
- **Language**: Arabic, French, English
- **Income Level**: Budget, Mid-range, Premium
- **Education**: High school, University, Professional

#### **5.1.2 Psychographic Segments**
- **Lifestyle Types**:
  - Foodies & Culinary Explorers
  - Nightlife Enthusiasts
  - Family-Oriented
  - Health & Wellness Focused
  - Culture & Arts Lovers
  - Adventure Seekers

#### **5.1.3 Behavioral Segments**
- **Purchase Behavior**:
  - Frequent buyers (>2x/week)
  - Occasional users (1-4x/month)
  - Special occasion only
  - Price-sensitive shoppers
  - Premium experience seekers

#### **5.1.4 Geographic Segments**
- **City Zones**: Downtown, Suburbs, Business Districts
- **Proximity**: 1km, 5km, 10km radius
- **Tourist vs Local**: Visitor patterns
- **Commute Routes**: Work-home corridors

### **5.2 Dynamic Segmentation**

```python
class DynamicSegmentation:
    def create_segment(self, criteria):
        segment = {
            'id': generate_uuid(),
            'name': criteria['name'],
            'rules': {
                'include': [],
                'exclude': []
            },
            'size_estimate': 0,
            'refresh_frequency': 'daily'
        }
        
        # AND conditions
        for condition in criteria['must_match_all']:
            segment['rules']['include'].append({
                'type': 'AND',
                'condition': condition
            })
        
        # OR conditions
        for condition in criteria['match_any']:
            segment['rules']['include'].append({
                'type': 'OR',
                'condition': condition
            })
        
        # Exclusions
        for condition in criteria['exclude']:
            segment['rules']['exclude'].append(condition)
        
        return segment
```

---

## **6. Analytics & Reporting Dashboard**

### **6.1 Key Performance Indicators (KPIs)**

#### **6.1.1 Campaign Metrics**
- **Impressions**: Total ad views
- **Reach**: Unique users reached
- **Clicks**: Total clicks on ads
- **CTR**: Click-through rate
- **CPC**: Average cost per click
- **CPM**: Cost per thousand impressions
- **Conversions**: Completed objectives
- **CVR**: Conversion rate
- **ROAS**: Return on ad spend

#### **6.1.2 Audience Metrics**
- **Demographics**: Age, gender breakdown
- **Geography**: Location performance
- **Device**: Mobile, tablet, web
- **Time**: Peak engagement hours
- **Frequency**: Average views per user

#### **6.1.3 Creative Performance**
- **Creative CTR**: By asset type
- **Engagement Rate**: Likes, shares, saves
- **Video Metrics**: View rate, completion rate
- **A/B Test Results**: Variant performance

### **6.2 Reporting Features**

#### **6.2.1 Real-Time Dashboard**
```yaml
dashboard_widgets:
  - spend_tracker:
      current_spend: real-time
      budget_remaining: calculated
      burn_rate: hourly/daily
  
  - performance_summary:
      impressions: last_hour
      clicks: last_hour
      conversions: last_hour
      trending: up/down/stable
  
  - top_performing:
      campaigns: by_roas
      creatives: by_ctr
      audiences: by_cvr
      locations: by_engagement
```

#### **6.2.2 Automated Reports**
- **Daily Summary**: Sent at 9 AM
- **Weekly Performance**: Monday mornings
- **Monthly Invoice**: First of month
- **Alert Notifications**:
  - Budget 80% consumed
  - Performance drop >20%
  - High-performing creative

---

## **7. Pricing & Monetization**

### **7.1 Pricing Structure**

#### **7.1.1 Self-Service Tiers**
| Tier | Monthly Spend | Benefits | Support |
|------|--------------|----------|---------|
| **Starter** | 500-2,000 MAD | Basic targeting, 3 campaigns | Email |
| **Growth** | 2,000-10,000 MAD | Advanced targeting, 10 campaigns | Chat |
| **Professional** | 10,000-50,000 MAD | Full features, unlimited campaigns | Phone |
| **Enterprise** | 50,000+ MAD | Custom features, dedicated account | Dedicated |

#### **7.1.2 Commission Structure**
- **Platform Fee**: 15% of ad spend
- **Payment Processing**: 2.5%
- **Creative Services**: 500-5,000 MAD (optional)
- **Campaign Management**: 20% of spend (managed service)

### **7.2 Promotional Programs**

#### **7.2.1 New Advertiser Incentives**
- **First Campaign**: 100 MAD free credit
- **Match Bonus**: 50% match up to 500 MAD
- **Training**: Free onboarding session

#### **7.2.2 Volume Discounts**
- **10,000+ MAD/month**: 5% discount
- **25,000+ MAD/month**: 10% discount
- **100,000+ MAD/month**: 15% discount

---

## **8. Implementation Requirements**

### **8.2 Compliance & Privacy**

#### **8.2.1 Data Protection**
- **GDPR Compliance**: User consent for targeted ads
- **Data Retention**: 90 days for behavioral data
- **Opt-out Options**: Easy ad preference management
- **Transparency**: Clear labeling of sponsored content

#### **8.2.2 Content Guidelines**
- **Prohibited Content**: Alcohol, tobacco, gambling
- **Review Process**: 24-hour approval workflow
- **Quality Standards**: Minimum image resolution, text limits
- **Cultural Sensitivity**: Local content guidelines

### **8.3 Integration Points**

#### **8.3.1 Existing Systems**
- **User Service**: Profile and preference data
- **Discovery Engine**: Organic content mixing
- **Payment System**: Billing and invoicing
- **Analytics Platform**: Unified reporting
- **Notification Service**: Message delivery

#### **8.3.2 Third-Party Integrations**
- **Google Ads**: Import campaigns
- **Facebook Business**: Audience sync
- **Pixel Tracking**: Conversion tracking
- **Attribution Partners**: Multi-touch attribution

---

## **9. Success Metrics**

### **9.1 Platform Metrics**
- **Active Advertisers**: 500 by Month 6
- **Ad Revenue**: 100,000 MAD/month by Month 12
- **Fill Rate**: 60% of available inventory
- **User Experience**: <5% ad complaint rate

### **9.2 Advertiser Success**
- **Average ROAS**: 3.5x
- **Retention Rate**: 70% monthly
- **Satisfaction Score**: 4.2/5
- **Self-Service Adoption**: 80%

---

## **Related Documents**
- **API-011**: API Design Specification
- **BRD-002**: Business Requirements Document
- **SAD-009**: Software Architecture Document
- **Implementation Files**: See code repository

---

## **Implementation Files Created**

### **Backend Services (TypeScript/NestJS)**
1. **advertising-service.ts** - Core advertising service for ad serving and tracking
2. **campaign-manager.ts** - Campaign lifecycle and budget management
3. **audience-segmentation.ts** - Advanced audience targeting and segmentation
4. **ad-analytics-service.ts** - Real-time analytics and reporting

### **Flutter/Dart Components**
1. **SponsoredContentWidget.dart** - Native ad display widget
2. **CampaignManagementScreen.dart** - Business dashboard for campaign management
3. **BusinessCommunicationWidget.dart** - Targeted messaging interface
4. **AdAnalyticsDashboard.dart** - Real-time analytics dashboard

### **Database Schema**
1. **advertising_schema.sql** - Complete PostgreSQL schema for advertising system
